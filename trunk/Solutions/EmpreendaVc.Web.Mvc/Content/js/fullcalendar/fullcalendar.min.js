/*

 FullCalendar v1.5.2
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Sun Aug 21 22:06:09 2011 -0700

*/
(function (a, b) { function bA(a) { function g(b) { return d[b] = d[b] || a(b) } var c = this, d = {}, e = {}, f = {}; c.left = function (a) { return e[a] = e[a] === b ? g(a).position().left : e[a] }; c.right = function (a) { return f[a] = f[a] === b ? c.left(a) + g(a).width() : f[a] }; c.clear = function () { d = {}; e = {}; f = {} } } function bz(b) { function h(a) { var c = b.cell(a.pageX, a.pageY); if (!c != !g || c && (c.row != g.row || c.col != g.col)) { if (c) { if (!f) { f = c } e(c, f, c.row - f.row, c.col - f.col) } else { e(c, f) } g = c } } var c = this; var d; var e; var f; var g; c.start = function (c, i, j) { e = c; f = g = null; b.build(); h(i); d = j || "mousemove"; a(document).bind(d, h) }; c.stop = function () { a(document).unbind(d, h); return g } } function by(a) { var b = this; var c; var d; b.build = function () { c = []; d = []; a(c, d) }; b.cell = function (a, b) { var e = c.length; var f = d.length; var g, h = -1, i = -1; for (g = 0; g < e; g++) { if (b >= c[g][0] && b < c[g][1]) { h = g; break } } for (g = 0; g < f; g++) { if (a >= d[g][0] && a < d[g][1]) { i = g; break } } return h >= 0 && i >= 0 ? { row: h, col: i} : null }; b.rect = function (a, b, e, f, g) { var h = g.offset(); return { top: c[a][0] - h.top, left: d[b][0] - h.left, width: d[f][1] - d[b][0], height: c[e][1] - c[a][0]} } } function bx() { function f() { var a; while (a = c.shift()) { d.push(a.hide().unbind()) } } function e(b, e) { var f = d.shift(); if (!f) { f = a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>") } if (f[0].parentNode != e[0]) { f.appendTo(e) } c.push(f.css(b).show()); return f } var b = this; b.renderOverlay = e; b.clearOverlays = f; var c = []; var d = [] } function bw() { function l(d) { var e = b.cellDate; var h = b.cellIsAllDay; var i = b.getHoverListener(); var l = b.reportDayClick; if (d.which == 1 && c("selectable")) { j(d); var m = this; var n; i.start(function (a, b) { g(); if (a && h(a)) { n = [e(b), e(a)].sort($); f(n[0], n[1], true) } else { n = null } }, d); a(document).one("mouseup", function (a) { i.stop(); if (n) { if (+n[0] == +n[1]) { l(n[0], true, a) } k(n[0], n[1], true, a) } }) } } function k(a, b, c, e) { h = true; d("select", null, a, b, c, e) } function j(a) { if (h) { h = false; g(); d("unselect", null, a) } } function i(a, b, c) { j(); if (!b) { b = e(a, c) } f(a, b, c); k(a, b, c) } var b = this; b.select = i; b.unselect = j; b.reportSelection = k; b.daySelectionMousedown = l; var c = b.opt; var d = b.trigger; var e = b.defaultSelectionEnd; var f = b.renderSelection; var g = b.clearSelection; var h = false; if (c("selectable") && c("unselectAuto")) { a(document).mousedown(function (b) { var d = c("unselectCancel"); if (d) { if (a(b.target).parents(d).length) { return } } j(b) }) } } function bv() { function S(b, f, g) { var i = d("isRTL"); var o = i ? "w" : "e"; var p = f.find("div.ui-resizable-" + o); var q = false; be(f); f.mousedown(function (a) { a.preventDefault() }).click(function (a) { if (q) { a.preventDefault(); a.stopImmediatePropagation() } }); p.mousedown(function (d) { function I(c) { e("eventResizeStop", this, b, c); a("body").css("cursor", ""); p.stop(); C(); if (A) { l(this, b, A, 0, c) } setTimeout(function () { q = false }, 0) } if (d.which != 1) { return } q = true; var p = c.getHoverListener(); var r = m(); var t = n(); var u = i ? -1 : 1; var y = i ? t - 1 : 0; var z = f.css("top"); var A; var E; var G = a.extend({}, b); var H = v(b.start); D(); a("body").css("cursor", o + "-resize").one("mouseup", I); e("eventResizeStart", this, b, d); p.start(function (a, c) { if (a) { var d = Math.max(H.row, a.row); var e = a.col; if (r == 1) { d = 0 } if (d == H.row) { if (i) { e = Math.min(H.col, e) } else { e = Math.max(H.col, e) } } A = d * 7 + e * u + y - (c.row * 7 + c.col * u + y); var f = s(h(b), A, true); if (A) { G.end = f; var l = E; E = F(x([G]), g.row, z); E.find("*").css("cursor", o + "-resize"); if (l) { l.remove() } k(b) } else { if (E) { j(b); E.remove(); E = null } } C(); B(b.start, s(w(f), 1)) } }, d) }) } function R(a, b) { var c; var d = a.length; var f; var g; var h; for (c = 0; c < d; c++) { f = a[c]; g = f.element; if (g) { g[0].style.top = b[f.row] + (f.top || 0) + "px"; h = f.event; e("eventAfterRender", h, h, g) } } } function P(a) { var b; var c = a.length; var d = []; for (b = 0; b < c; b++) { d[b] = a[b][0].offsetTop } return d } function O() { var a; var b = m(); var c = []; for (a = 0; a < b; a++) { c[a] = p(a).find("td:first div.fc-day-content > div") } return c } function M(a) { var c; var d = a.length; var e; var f; var g, h; var i = {}; for (c = 0; c < d; c++) { e = a[c]; f = e.element; if (f) { g = e.key; h = i[g]; if (h === b) { h = i[g] = W(f) } e.outerHeight = f[0].offsetHeight + h } } } function L(a) { var b; var c = a.length; var d; var e; for (b = 0; b < c; b++) { d = a[b]; e = d.element; if (e) { e[0].style.width = Math.max(0, d.outerWidth - d.hsides) + "px" } } } function K(a) { var c; var d = a.length; var e; var f; var g, h; var i = {}; for (c = 0; c < d; c++) { e = a[c]; f = e.element; if (f) { g = e.key = bd(f[0]); h = i[g]; if (h === b) { h = i[g] = Q(f, true) } e.hsides = h } } } function J(a, b, c) { var d; var e = a.length; var f; var g; var h; for (d = 0; d < e; d++) { f = a[d]; g = f.element; if (g) { h = f.event; if (h._id === c) { z(h, g, f) } else { g[0]._fci = d } } } N(b, a, z) } function I(a) { var b; var c = a.length; var d; var e; for (b = 0; b < c; b++) { d = a[b]; e = d.element; if (e) { i(d.event, e) } } } function H(b, c) { var d; var f = b.length; var g; var h; var i; var j; for (d = 0; d < f; d++) { g = b[d]; h = g.event; i = a(c[d]); j = e("eventRender", h, h, i); if (j === false) { i.remove() } else { if (j && j !== true) { j = a(j).css({ position: "absolute", left: g.left }); i.replaceWith(j); i = j } g.element = i } } } function G(a) { var b = d("isRTL"); var c; var e = a.length; var h; var i; var j; var k; var l = q(); var m = l.left; var n = l.right; var o; var p; var s; var v; var w; var x = ""; for (c = 0; c < e; c++) { h = a[c]; i = h.event; k = ["fc-event", "fc-event-skin", "fc-event-hori", "ajax-form"]; if (f(i)) { k.push("fc-event-draggable") } if (b) { if (h.isStart) { k.push("fc-corner-right") } if (h.isEnd) { k.push("fc-corner-left") } o = u(h.end.getDay() - 1); p = u(h.start.getDay()); s = h.isEnd ? r(o) : m; v = h.isStart ? t(p) : n } else { if (h.isStart) { k.push("fc-corner-left") } if (h.isEnd) { k.push("fc-corner-right") } o = u(h.start.getDay()); p = u(h.end.getDay() - 1); s = h.isStart ? r(o) : m; v = h.isEnd ? t(p) : n } k = k.concat(i.className); if (i.source) { k = k.concat(i.source.className || []) } j = i.url; w = bh(i, d); if (j) { x += "<a href='" + bc(j) + "'" } else { x += "<div" } x += " class='" + k.join(" ") + "'" + " style='position:absolute;z-index:8;left:" + s + "px;" + w + "'" + ">" + "<div" + " class='fc-event-inner fc-event-skin'" + (w ? " style='" + w + "'" : "") + ">"; if (!i.allDay && h.isStart) { x += "<span class='fc-event-time'>" + bc(A(i.start, i.end, d("timeFormat"))) + "</span>" } x += "<span class='fc-event-title'>" + bc(i.title) + "</span>" + "</div>"; if (h.isEnd && g(i)) { x += "<div class='ui-resizable-handle ui-resizable-" + (b ? "w" : "e") + "'>" + "   " + "</div>" } x += "</" + (j ? "a" : "div") + ">"; h.left = s; h.outerWidth = v - s; h.startCol = o; h.endCol = p + 1 } return x } function F(b, c, d) { var e = a("<div/>"); var f; var g = y(); var h; var i = b.length; var j; e[0].innerHTML = G(b); f = e.children(); g.append(f); H(b, f); K(b); L(b); M(b); R(b, P(O())); f = []; for (h = 0; h < i; h++) { j = b[h].element; if (j) { if (b[h].row === c) { j.css("top", d) } f.push(j[0]) } } return a(f) } function E(a, b) { var c = y(); var d; var e = m(); var f = n(); var g = 0; var h; var i; var j; var k; var l = a.length; var o; var p; var q; c[0].innerHTML = G(a); H(a, c.children()); I(a); J(a, c, b); K(a); L(a); M(a); d = O(); for (h = 0; h < e; h++) { i = 0; j = []; for (k = 0; k < f; k++) { j[k] = 0 } while (g < l && (o = a[g]).row == h) { p = _(j.slice(o.startCol, o.endCol)); o.top = p; p += o.outerHeight; for (q = o.startCol; q < o.endCol; q++) { j[q] = p } g++ } d[h].height(_(j)) } R(a, P(d)) } var c = this; c.renderDaySegs = E; c.resizableDayEvent = S; var d = c.opt; var e = c.trigger; var f = c.isEventDraggable; var g = c.isEventResizable; var h = c.eventEnd; var i = c.reportEventElement; var j = c.showEvents; var k = c.hideEvents; var l = c.eventResize; var m = c.getRowCnt; var n = c.getColCnt; var o = c.getColWidth; var p = c.allDayRow; var q = c.allDayBounds; var r = c.colContentLeft; var t = c.colContentRight; var u = c.dayOfWeekCol; var v = c.dateCell; var x = c.compileDaySegs; var y = c.getDaySegmentContainer; var z = c.bindDaySeg; var A = c.calendar.formatDates; var B = c.renderDayOverlay; var C = c.clearOverlays; var D = c.clearSelection } function bu(a, c, d) { function F(a, b, c) { c = c || 0; for (var d, e = a.length, f = 0; f < e; f++) { d = a[f]; d.end = u(s(t(d), b, true), c); g(d, l) } } function E(a, c, d, e) { d = d || 0; for (var f, h = a.length, i = 0; i < h; i++) { f = a[i]; if (e !== b) { f.allDay = e } u(s(f.start, c, true), d); if (f.end) { f.end = u(s(f.end, c, true), d) } g(f, l) } } function D(a, b, c, d, e, f) { var g = b._id; F(i[g], c, d); n("eventResize", a, b, c, d, function () { F(i[g], -c, -d); h(g) }, e, f); h(g) } function C(a, b, c, d, e, f, g) { var j = b.allDay; var k = b._id; E(i[k], c, d, e); n("eventDrop", a, b, c, d, e, function () { E(i[k], -c, -d, j); h(k) }, f, g); h(k) } function B(a, b, c) { var d = k[a._id], e, f = d.length; for (e = 0; e < f; e++) { if (!b || d[e][0] != b[0]) { d[e][c]() } } } function A(a, b) { B(a, b, "hide") } function z(a, b) { B(a, b, "show") } function y(a, b) { b.click(function (c) { if (!b.hasClass("ui-draggable-dragging") && !b.hasClass("ui-resizable-resizing")) { return n("eventClick", this, a, c) } }).hover(function (b) { n("eventMouseover", this, a, b) }, function (b) { n("eventMouseout", this, a, b) }) } function x() { j = []; k = {} } function v(a, b) { j.push(b); if (k[a._id]) { k[a._id].push(b) } else { k[a._id] = [b] } } function t(a) { return a.end ? w(a.end) : f(a) } function r(a) { i = {}; var b, c = a.length, d; for (b = 0; b < c; b++) { d = a[b]; if (i[d._id]) { i[d._id].push(d) } else { i[d._id] = [d] } } } function q(a) { return bj(a.editable, (a.source || {}).editable, m("editable")) } function p(a) { return q(a) && !m("disableResizing") } function o(a) { return q(a) && !m("disableDragging") } function n(a, b) { return c.trigger.apply(c, [a, b || e].concat(Array.prototype.slice.call(arguments, 2), [e])) } function m(a, b) { var c = l[a]; if (typeof c == "object") { return bb(c, b || d) } return c } var e = this; e.element = a; e.calendar = c; e.name = d; e.opt = m; e.trigger = n; e.isEventDraggable = o; e.isEventResizable = p; e.reportEvents = r; e.eventEnd = t; e.reportEventElement = v; e.reportEventClear = x; e.eventElementHandlers = y; e.showEvents = z; e.hideEvents = A; e.eventDrop = C; e.eventResize = D; var f = e.defaultEventEnd; var g = c.normalizeEvent; var h = c.reportEventChange; var i = {}; var j = []; var k = {}; var l = c.options } function bt(a) { var b, c, d, e, f, g; for (b = a.length - 1; b > 0; b--) { e = a[b]; for (c = 0; c < e.length; c++) { f = e[c]; for (d = 0; d < a[b - 1].length; d++) { g = a[b - 1][d]; if (K(f, g)) { g.forward = Math.max(g.forward || 0, (f.forward || 0) + 1) } } } } } function bs() { function bg(a, b, c) { var f, g; var i = C(); b.resizable({ handles: { s: "div.ui-resizable-s" }, grid: i, start: function (c, d) { f = g = 0; G(a, b); b.css("z-index", 9); e("eventResizeStart", this, a, c, d) }, resize: function (e, j) { f = Math.round((Math.max(i, b.height()) - j.originalSize.height) / i); if (f != g) { c.text(T(a.start, !f && !a.end ? null : u(h(a), d("slotMinutes") * f), d("timeFormat"))); g = f } }, stop: function (c, g) { e("eventResizeStop", this, a, c, g); if (f) { J(this, a, 0, d("slotMinutes") * f, c, g) } else { b.css("z-index", 8); F(a, b) } } }) } function bf(a, b, c) { function r() { if (g) { c.css("display", ""); b.draggable("option", "grid", [n, p]); g = false } } function q(b) { var e = u(w(a.start), b); var f; if (a.end) { f = u(w(a.end), b) } c.text(T(e, f, d("timeFormat"))) } var f; var g = false; var h; var i; var j; var k = d("isRTL") ? -1 : 1; var l = o(); var m = A(); var n = B(); var p = C(); b.draggable({ zIndex: 9, scroll: false, grid: [n, p], axis: m == 1 ? "y" : false, opacity: d("dragOpacity"), revertDuration: d("dragRevertDuration"), start: function (m, n) { e("eventDragStart", b, a, m, n); G(a, b); f = b.position(); i = j = 0; l.start(function (e, f, i, j) { b.draggable("option", "revert", !e); O(); if (e) { h = j * k; if (d("allDaySlot") && !e.row) { if (!g) { g = true; c.hide(); b.draggable("option", "grid", null) } K(s(w(a.start), h), s(H(a), h)) } else { r() } } }, m, "drag") }, drag: function (a, b) { i = Math.round((b.position.top - f.top) / p) * d("slotMinutes"); if (i != j) { if (!g) { q(i) } j = i } }, stop: function (c, d) { var j = l.stop(); O(); e("eventDragStop", b, a, c, d); if (j && (h || i || g)) { I(this, a, h, g ? 0 : i, g, c, d) } else { r(); b.css("filter", ""); b.css(f); q(0); F(a, b) } } }) } function be(a, b, c) { function q() { if (!h) { b.width(f).height("").draggable("option", "grid", null); h = true } } var f; var g; var h = true; var i; var j = d("isRTL") ? -1 : 1; var k = o(); var l = B(); var m = C(); var n = r(); b.draggable({ zIndex: 9, opacity: d("dragOpacity", "month"), revertDuration: d("dragRevertDuration"), start: function (n, o) { e("eventDragStart", b, a, n, o); G(a, b); f = b.width(); k.start(function (e, f, k, n) { O(); if (e) { g = false; i = n * j; if (!e.row) { K(s(w(a.start), i), s(H(a), i)); q() } else { if (c) { if (h) { b.width(l - 10); P(b, m * Math.round((a.end ? (a.end - a.start) / p : d("defaultEventMinutes")) / d("slotMinutes"))); b.draggable("option", "grid", [l, 1]); h = false } } else { g = true } } g = g || h && !i } else { q(); g = true } b.draggable("option", "revert", g) }, n, "drag") }, stop: function (c, f) { k.stop(); O(); e("eventDragStop", b, a, c, f); if (g) { q(); b.css("filter", ""); F(a, b) } else { var j = 0; if (!h) { j = Math.round((b.offset().top - D().offset().top) / m) * d("slotMinutes") + n - (a.start.getHours() * 60 + a.start.getMinutes()) } I(this, a, i, j, h, c, f) } } }) } function bb(a, b, c) { var d = b.find("div.fc-event-time"); if (f(a)) { bf(a, b, d) } if (c.isEnd && g(a)) { bg(a, b, d) } k(a, b) } function ba(a, b, c) { if (f(a)) { be(a, b, c.isStart) } if (c.isEnd && g(a)) { z(a, b, c) } k(a, b) } function _(a, b) { var c = "<"; var e = a.url; var h = bh(a, d); var i = h ? " style='" + h + "'" : ""; var j = ["fc-event", "fc-event-skin", "fc-event-vert"]; if (f(a)) { j.push("fc-event-draggable") } if (b.isStart) { j.push("fc-corner-top") } if (b.isEnd) { j.push("fc-corner-bottom") } j = j.concat(a.className); if (a.source) { j = j.concat(a.source.className || []) } if (e) { c += "a href='" + bc(a.url) + "'" } else { c += "div" } c += " class='" + j.join(" ") + "'" + " style='position:absolute;z-index:8;top:" + b.top + "px;left:" + b.left + "px;" + h + "'" + " title='" + bc(a.title) + "'>" + "<div class='fc-event-inner fc-event-skin'" + i + ">" + "<div class='fc-event-head fc-event-skin'" + i + ">" + "<div class='fc-event-time'>" + bc(T(a.start, a.end, d("timeFormat"))) + "</div>" + "</div>" + "<div class='fc-event-content'>" + "<div class='fc-event-title'>" + bc(a.title) + "</div>" + "</div>" + "<div class='fc-event-bg'></div>" + "</div>"; if (b.isEnd && g(a)) { c += "<div class='ui-resizable-handle ui-resizable-s'>=</div>" } c += "</" + (e ? "a" : "div") + ">"; return c } function $(c, f) { var g, h = c.length, i, j, k, l, m, o, p, q, r, s, u, w, y = "", z, B, C, D = {}, F = {}, G, H, I, J, K = n(), L, M, O, P = A(); if (L = d("isRTL")) { M = -1; O = P - 1 } else { M = 1; O = 0 } for (g = 0; g < h; g++) { i = c[g]; j = i.event; l = t(i.start, i.start); m = t(i.start, i.end); o = i.col; p = i.level; q = i.forward || 0; r = v(o * M + O); s = x(o * M + O) - r; s = Math.min(s - 6, s * .95); if (p) { u = s / (p + q + 1) } else { if (q) { u = (s / (q + 1) - 12 / 2) * 2 } else { u = s } } w = r + s / (p + q + 1) * p * M + (L ? s - u : 0); i.top = l; i.left = w; i.outerWidth = u; i.outerHeight = m - l; y += _(j, i) } K[0].innerHTML = y; z = K.children(); for (g = 0; g < h; g++) { i = c[g]; j = i.event; B = a(z[g]); C = e("eventRender", j, j, B); if (C === false) { B.remove() } else { if (C && C !== true) { B.remove(); B = a(C).css({ position: "absolute", top: i.top, left: i.left }).appendTo(K) } i.element = B; if (j._id === f) { bb(j, B, i) } else { B[0]._fci = g } E(j, B) } } N(K, c, bb); for (g = 0; g < h; g++) { i = c[g]; if (B = i.element) { H = D[G = i.key = bd(B[0])]; i.vsides = H === b ? D[G] = U(B, true) : H; H = F[G]; i.hsides = H === b ? F[G] = Q(B, true) : H; I = B.find("div.fc-event-content"); if (I.length) { i.contentTop = I[0].offsetTop } } } for (g = 0; g < h; g++) { i = c[g]; if (B = i.element) { B[0].style.width = Math.max(0, i.outerWidth - i.hsides) + "px"; J = Math.max(0, i.outerHeight - i.vsides); B[0].style.height = J + "px"; j = i.event; if (i.contentTop !== b && J - i.contentTop < 10) { B.find("div.fc-event-time").text(S(j.start, d("timeFormat")) + " - " + j.title); B.find("div.fc-event-title").remove() } e("eventAfterRender", j, j, B) } } } function Z(a) { if (a.end) { return w(a.end) } else { return u(w(a.start), d("defaultEventMinutes")) } } function Y(b) { var d = A(), e = r(), f = q(), g = u(w(c.visStart), e), h = a.map(b, Z), i, j, k, l, m, n, o = []; for (i = 0; i < d; i++) { j = M(L(b, h, g, u(w(g), f - e))); bt(j); for (k = 0; k < j.length; k++) { l = j[k]; for (m = 0; m < l.length; m++) { n = l[m]; n.col = i; n.level = k; o.push(n) } } s(g, 1, true) } return o } function X(b) { var d = M(L(b, a.map(b, H), c.visStart, c.visEnd)), e, f = d.length, g, h, i, j = []; for (e = 0; e < f; e++) { g = d[e]; for (h = 0; h < g.length; h++) { i = g[h]; i.row = 0; i.level = e; j.push(i) } } return j } function W() { j(); m().empty(); n().empty() } function V(a, b) { i(a); var c, e = a.length, f = [], g = []; for (c = 0; c < e; c++) { if (a[c].allDay) { f.push(a[c]) } else { g.push(a[c]) } } if (d("allDaySlot")) { y(X(f), b); l() } $(Y(g), b) } var c = this; c.renderEvents = V; c.compileDaySegs = X; c.clearEvents = W; c.slotSegHtml = _; c.bindDaySeg = ba; bv.call(c); var d = c.opt; var e = c.trigger; var f = c.isEventDraggable; var g = c.isEventResizable; var h = c.eventEnd; var i = c.reportEvents; var j = c.reportEventClear; var k = c.eventElementHandlers; var l = c.setHeight; var m = c.getDaySegmentContainer; var n = c.getSlotSegmentContainer; var o = c.getHoverListener; var q = c.getMaxMinute; var r = c.getMinMinute; var t = c.timePosition; var v = c.colContentLeft; var x = c.colContentRight; var y = c.renderDaySegs; var z = c.resizableDayEvent; var A = c.getColCnt; var B = c.getColWidth; var C = c.getSlotHeight; var D = c.getBodyContent; var E = c.reportEventElement; var F = c.showEvents; var G = c.hideEvents; var I = c.eventDrop; var J = c.eventResize; var K = c.renderDayOverlay; var O = c.clearOverlays; var R = c.calendar; var S = R.formatDate; var T = R.formatDates } function br(c, d, e) { function ce(a, b, c) { var d = bd.stop(); k(); if (d) { h("drop", a, bR(d), bT(d), b, c) } } function cd(a, b, c) { bd.start(function (a) { k(); if (a) { if (bT(a)) { bM(a.row, a.col, a.row, a.col) } else { var b = bR(a); var c = u(w(b), g("defaultEventMinutes")); bN(b, c) } } }, b) } function cc(a, b, c) { h("dayClick", A[bU(a.getDay())], a, b, c) } function cb(b) { if (b.which == 1 && g("selectable")) { m(b); var c; bd.start(function (a, b) { ca(); if (a && a.col == b.col && !bT(a)) { var d = bR(b); var e = bR(a); c = [d, u(w(d), g("slotMinutes")), e, u(w(e), g("slotMinutes"))].sort($); b_(c[0], c[3]) } else { c = null } }, b); a(document).one("mouseup", function (a) { bd.stop(); if (c) { if (+c[0] == +c[1]) { cc(c[0], false, a) } l(c[0], c[3], false, a) } }) } } function ca() { k(); if (S) { S.remove(); S = null } } function b_(b, c) { var d = g("selectHelper"); bc.build(); if (d) { var e = z(b, f.visStart) * bn + bo; if (e >= 0 && e < ba) { var h = bc.rect(0, e, 0, e, K); var i = bV(b, b); var j = bV(b, c); if (j > i) { h.top = i; h.height = j - i; h.left += 2; h.width -= 5; if (a.isFunction(d)) { var k = d(b, c); if (k) { h.position = "absolute"; h.zIndex = 8; S = a(k).css(h).appendTo(K) } } else { h.isStart = true; h.isEnd = true; S = a(o({ title: "", start: b, end: c, className: ["fc-select-helper"], editable: false }, h)); S.css("opacity", g("dragOpacity")) } if (S) { bJ(S); K.append(S); O(S, h.width, true); P(S, h.height, true) } } } } else { bN(b, c) } } function b$(a, b, c) { if (c) { if (g("allDaySlot")) { bL(a, s(w(b), 1), true) } } else { b_(a, b) } } function bZ(a, b) { if (b) { return w(a) } return u(w(a), g("slotMinutes")) } function bY(a) { var b = w(a.start); if (a.allDay) { return b } return u(b, g("defaultEventMinutes")) } function bX(a) { return I } function bW() { return { left: W, right: T - Y} } function bV(a, c) { a = w(a, true); if (c < u(w(a), bp)) { return 0 } if (c >= u(w(a), bq)) { return M.height() } var d = g("slotMinutes"), e = c.getHours() * 60 + c.getMinutes() - bp, f = Math.floor(e / d), h = bi[f]; if (h === b) { h = bi[f] = M.find("tr:eq(" + f + ") td div")[0].offsetTop } return Math.max(0, Math.round(h - 1 + Z * (e % d / d))) } function bU(a) { return (a - Math.max(bk, bl) + ba) % ba * bn + bo } function bT(a) { return g("allDaySlot") && !a.row } function bS(a) { return s(w(f.visStart), a * bn + bo) } function bR(a) { var b = bS(a.col); var c = a.row; if (g("allDaySlot")) { c-- } if (c >= 0) { u(b, bp + c * g("slotMinutes")) } return b } function bQ(a) { return { row: Math.floor(z(a, f.visStart) / 7), col: bU(a.getDay())} } function bP(a) { return bh.right(a) } function bO(a) { return bh.left(a) } function bN(a, b) { var c = w(f.visStart); var d = s(w(c), 1); for (var e = 0; e < ba; e++) { var g = new Date(Math.max(c, a)); var h = new Date(Math.min(d, b)); if (g < h) { var i = e * bn + bo; var k = bc.rect(0, i, 0, i, K); var l = bV(c, g); var m = bV(c, h); k.top = l; k.height = m - l; bJ(j(k, K)) } s(c, 1); s(d, 1) } } function bM(a, b, c, d) { var e = bc.rect(a, b, c, d, F); return j(e, F) } function bL(a, b, c) { if (c) { bc.build() } var d = w(f.visStart); var e, g; if (bm) { e = z(b, d) * bn + bo + 1; g = z(a, d) * bn + bo + 1 } else { e = z(a, d); g = z(b, d) } e = Math.max(0, e); g = Math.min(ba, g); if (e < g) { bI(bM(0, e, 0, g - 1)) } } function bK(a) { if (!g("selectable")) { var b = Math.min(ba - 1, Math.floor((a.pageX - q.offset().left - W) / X)); var c = bS(b); var d = this.parentNode.className.match(/fc-slot(\d+)/); if (d) { var e = parseInt(d[1]) * g("slotMinutes"); var f = Math.floor(e / 60); c.setHours(f); c.setMinutes(e % 60 + bp); h("dayClick", A[b], c, false, a) } else { h("dayClick", A[b], c, true, a) } } } function bJ(a) { a.click(bK).mousedown(cb) } function bI(a) { a.click(bK).mousedown(n) } function bH() { J.scrollTop(_) } function bG() { _ = J.scrollTop() } function bF() { function d() { J.scrollTop(c) } var a = x(); var b = w(a); b.setHours(g("firstHour")); var c = bV(a, b) + 1; d(); setTimeout(d, 0) } function bE(b) { T = b; bh.clear(); W = 0; O(Q.width("").each(function (b, c) { W = Math.max(W, a(c).outerWidth()) }), W); var c = J[0].clientWidth; Y = J.width() - c; if (Y) { O(R, Y); R.show().prev().removeClass("fc-last") } else { R.hide().prev().addClass("fc-last") } X = Math.floor((c - W) / ba); O(t.slice(0, -1), X) } function bD(a, c) { if (a === b) { a = V } V = a; bi = {}; var d = y.position().top; var e = J.position().top; var f = Math.min(a - d, M.height() + e + 1); E.height(f - U(C)); F.css("top", d); J.height(f - e - 1); Z = N.height() + 1; if (c) { bF() } } function bC() { var a; var b; var c; var d; var e = v(new Date); for (a = 0; a < ba; a++) { d = bS(a); b = t.eq(a); b.html(p(d, br)); c = A.eq(a); if (+d == +e) { c.addClass(bj + "-state-highlight fc-today") } else { c.removeClass(bj + "-state-highlight fc-today") } bg(b.add(c), d) } } function bB() { var b = bj + "-widget-header"; var d = bj + "-widget-content"; var e; var f; var h; var i; var j; var k = g("slotMinutes") % 15 == 0; e = "<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>" + "<thead>" + "<tr>" + "<th class='fc-agenda-axis " + b + "'> </th>"; for (f = 0; f < ba; f++) { e += "<th class='fc- fc-col" + f + " " + b + "'/>" } e += "<th class='fc-agenda-gutter " + b + "'> </th>" + "</tr>" + "</thead>" + "<tbody>" + "<tr>" + "<th class='fc-agenda-axis " + b + "'> </th>"; for (f = 0; f < ba; f++) { e += "<td class='fc- fc-col" + f + " " + d + "'>" + "<div>" + "<div class='fc-day-content'>" + "<div style='position:relative'> </div>" + "</div>" + "</div>" + "</td>" } e += "<td class='fc-agenda-gutter " + d + "'> </td>" + "</tr>" + "</tbody>" + "</table>"; q = a(e).appendTo(c); r = q.find("thead"); t = r.find("th").slice(1, -1); y = q.find("tbody"); A = y.find("td").slice(0, -1); B = A.find("div.fc-day-content div"); C = A.eq(0); E = C.find("> div"); bf(r.add(r.find("tr"))); bf(y.add(y.find("tr"))); Q = r.find("th:first"); R = q.find(".fc-agenda-gutter"); F = a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(c); if (g("allDaySlot")) { G = a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(F); e = "<table style='width:100%' class='fc-agenda-allday' cellspacing='0'>" + "<tr>" + "<th class='" + b + " fc-agenda-axis'>" + g("allDayText") + "</th>" + "<td>" + "<div class='fc-day-content'><div style='position:relative'/></div>" + "</td>" + "<th class='" + b + " fc-agenda-gutter'> </th>" + "</tr>" + "</table>"; H = a(e).appendTo(F); I = H.find("tr"); bI(I.find("td")); Q = Q.add(H.find("th:first")); R = R.add(H.find("th.fc-agenda-gutter")); F.append("<div class='fc-agenda-divider " + b + "'>" + "<div class='fc-agenda-divider-inner'/>" + "</div>") } else { G = a([]) } J = a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(F); K = a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(J); L = a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(K); e = "<table class='fc-agenda-slots' style='width:100%' cellspacing='0'>" + "<tbody>"; h = x(); i = u(w(h), bq); u(h, bp); bb = 0; for (f = 0; h < i; f++) { j = h.getMinutes(); e += "<tr class='fc-slot" + f + " " + (!j ? "" : "fc-minor") + "'>" + "<th class='fc-agenda-axis " + b + "'>" + (!k || !j ? p(h, g("axisFormat")) : " ") + "</th>" + "<td class='" + d + "'>" + "<div style='position:relative'> </div>" + "</td>" + "</tr>"; u(h, g("slotMinutes")); bb++ } e += "</tbody>" + "</table>"; M = a(e).appendTo(K); N = M.find("div:first"); bJ(M.find("td")); Q = Q.add(M.find("th:first")) } function bv() { bj = g("theme") ? "ui" : "fc"; bl = g("weekends") ? 0 : 1; bk = g("firstDay"); if (bm = g("isRTL")) { bn = -1; bo = ba - 1 } else { bn = 1; bo = 0 } bp = D(g("minTime")); bq = D(g("maxTime")); br = g("columnFormat") } function bt(a) { ba = a; bv(); if (!q) { bB() } else { i() } bC() } var f = this; f.renderAgenda = bt; f.setWidth = bE; f.setHeight = bD; f.beforeHide = bG; f.afterShow = bH; f.defaultEventEnd = bY; f.timePosition = bV; f.dayOfWeekCol = bU; f.dateCell = bQ; f.cellDate = bR; f.cellIsAllDay = bT; f.allDayRow = bX; f.allDayBounds = bW; f.getHoverListener = function () { return bd }; f.colContentLeft = bO; f.colContentRight = bP; f.getDaySegmentContainer = function () { return G }; f.getSlotSegmentContainer = function () { return L }; f.getMinMinute = function () { return bp }; f.getMaxMinute = function () { return bq }; f.getBodyContent = function () { return K }; f.getRowCnt = function () { return 1 }; f.getColCnt = function () { return ba }; f.getColWidth = function () { return X }; f.getSlotHeight = function () { return Z }; f.defaultSelectionEnd = bZ; f.renderDayOverlay = bL; f.renderSelection = b$; f.clearSelection = ca; f.reportDayClick = cc; f.dragStart = cd; f.dragStop = ce; bu.call(f, c, d, e); bx.call(f); bw.call(f); bs.call(f); var g = f.opt; var h = f.trigger; var i = f.clearEvents; var j = f.renderOverlay; var k = f.clearOverlays; var l = f.reportSelection; var m = f.unselect; var n = f.daySelectionMousedown; var o = f.slotSegHtml; var p = d.formatDate; var q; var r; var t; var y; var A; var B; var C; var E; var F; var G; var H; var I; var J; var K; var L; var M; var N; var Q; var R; var S; var T; var V; var W; var X; var Y; var Z; var _; var ba; var bb; var bc; var bd; var bh; var bi = {}; var bj; var bk; var bl; var bm, bn, bo; var bp, bq; var br; be(c.addClass("fc-agenda")); bc = new by(function (b, c) { function k(a) { return Math.max(i, Math.min(j, a)) } var d, e, f; t.each(function (b, g) { d = a(g); e = d.offset().left; if (b) { f[1] = e } f = [e]; c[b] = f }); f[1] = e + d.outerWidth(); if (g("allDaySlot")) { d = I; e = d.offset().top; b[0] = [e, e + d.outerHeight()] } var h = K.offset().top; var i = J.offset().top; var j = i + J.outerHeight(); for (var l = 0; l < bb; l++) { b.push([k(h + Z * l), k(h + Z * (l + 1))]) } }); bd = new bz(bc); bh = new bA(function (a) { return B.eq(a) }) } function bq(a, b) { function g(a, b) { if (b) { s(a, b); if (!d("weekends")) { y(a, b < 0 ? -1 : 1) } } var g = w(a, true); var h = s(w(g), 1); c.title = f(a, d("titleFormat")); c.start = c.visStart = g; c.end = c.visEnd = h; e(1) } var c = this; c.render = g; br.call(c, a, b, "agendaDay"); var d = c.opt; var e = c.renderAgenda; var f = b.formatDate } function bp(a, b) { function g(a, b) { if (b) { s(a, b * 7) } var g = s(w(a), -((a.getDay() - d("firstDay") + 7) % 7)); var h = s(w(g), 7); var i = w(g); var j = w(h); var k = d("weekends"); if (!k) { y(i); y(j, -1, true) } c.title = f(i, s(w(j), -1), d("titleFormat")); c.start = g; c.end = h; c.visStart = i; c.visEnd = j; e(k ? 7 : 5) } var c = this; c.render = g; br.call(c, a, b, "agendaWeek"); var d = c.opt; var e = c.renderAgenda; var f = b.formatDates } function bo() { function A(a, b) { var e = n(); var f; b.draggable({ zIndex: 9, delay: 50, opacity: c("dragOpacity"), revertDuration: c("dragRevertDuration"), start: function (g, h) { d("eventDragStart", b, a, g, h); k(a, b); e.start(function (d, e, g, h) { b.draggable("option", "revert", !d || !g && !h); p(); if (d) { f = g * 7 + h * (c("isRTL") ? -1 : 1); o(s(w(a.start), f), s(H(a), f)) } else { f = 0 } }, g, "drag") }, stop: function (c, g) { e.stop(); p(); d("eventDragStop", b, a, c, g); if (f) { l(this, a, f, 0, a.allDay, c, g) } else { b.css("filter", ""); j(a, b) } } }) } function z(a, b, c) { if (e(a)) { A(a, b) } if (c.isEnd && f(a)) { u(a, b, c) } i(a, b) } function y(c) { var d = q(), e = r(), f = w(b.visStart), g = s(w(f), e), h = a.map(c, H), i, j, k, l, m, n, o = []; for (i = 0; i < d; i++) { j = M(L(c, h, f, g)); for (k = 0; k < j.length; k++) { l = j[k]; for (m = 0; m < l.length; m++) { n = l[m]; n.row = i; n.level = k; o.push(n) } } s(f, 7); s(g, 7) } return o } function x() { h(); m().empty() } function v(a, b) { g(a); t(y(a), b) } var b = this; b.renderEvents = v; b.compileDaySegs = y; b.clearEvents = x; b.bindDaySeg = z; bv.call(b); var c = b.opt; var d = b.trigger; var e = b.isEventDraggable; var f = b.isEventResizable; var g = b.reportEvents; var h = b.reportEventClear; var i = b.eventElementHandlers; var j = b.showEvents; var k = b.hideEvents; var l = b.eventDrop; var m = b.getDaySegmentContainer; var n = b.getHoverListener; var o = b.renderDayOverlay; var p = b.clearOverlays; var q = b.getRowCnt; var r = b.getColCnt; var t = b.renderDaySegs; var u = b.resizableDayEvent } function bn(b, c, d) { function br(a) { return { left: 0, right: x} } function bq(a) { return p.eq(a) } function bp(a) { return (a - Math.max(J, K) + C) % C * H + I } function bn(a) { return bm(Math.floor(a / C), a % C) } function bm(a, b) { return s(w(e.visStart), a * 7 + b * H + I) } function bl(a) { return bm(a.row, a.col) } function bk(a) { return { row: Math.floor(z(a, e.visStart) / 7), col: bp(a.getDay())} } function bj(a) { return F.right(a) } function bi(a) { return F.left(a) } function bh(a) { return w(a.start) } function bd(a, b, c) { var d = E.stop(); j(); if (d) { var e = bl(d); g("drop", a, e, true, b, c) } } function bc(a, b, c) { E.start(function (a) { j(); if (a) { Z(a.row, a.col, a.row, a.col) } }, b) } function bb(a, b, c) { var d = bk(a); var e = q[d.row * C + d.col]; g("dayClick", e, a, b, c) } function ba() { j() } function _(a, b, c) { X(a, s(w(b), 1), true) } function $(a, b) { return w(a) } function Z(a, c, d, e) { var f = D.rect(a, c, d, e, b); return i(f, b) } function X(a, b, c) { if (c) { D.build() } var d = w(e.visStart); var f = s(w(d), C); for (var g = 0; g < B; g++) { var h = new Date(Math.max(d, a)); var i = new Date(Math.min(f, b)); if (h < i) { var j, k; if (G) { j = z(i, d) * H + I + 1; k = z(h, d) * H + I + 1 } else { j = z(h, d); k = z(i, d) } V(Z(g, j, g, k - 1)) } s(d, 7); s(f, 7) } } function W(a) { if (!f("selectable")) { var b = parseInt(this.className.match(/fc\-day(\d+)/)[1]); var c = bn(b); g("dayClick", this, c, true, a) } } function V(a) { a.click(W).mousedown(k) } function T(a) { x = a; F.clear(); A = Math.floor(x / C); O(n.slice(0, -1), A) } function S(b) { y = b; var c = y - m.height(); var d; var e; var g; if (f("weekMode") == "variable") { d = e = Math.floor(c / (B == 1 ? 2 : 6)) } else { d = Math.floor(c / B); e = c - d * (B - 1) } r.each(function (b, c) { if (b < B) { g = a(c); Y(g.find("> div"), (b == B - 1 ? e : d) - U(g)) } }) } function R(b) { var c = b || B == 1; var d = e.start.getMonth(); var f = v(new Date); var g; var h; var i; if (c) { n.each(function (b, c) { g = a(c); h = bn(b); g.html(l(h, M)); bg(g, h) }) } q.each(function (b, e) { g = a(e); h = bn(b); if (h.getMonth() == d) { g.removeClass("fc-other-month") } else { g.addClass("fc-other-month") } if (+h == +f) { g.addClass(L + "-state-highlight fc-today") } else { g.removeClass(L + "-state-highlight fc-today") } g.find("div.fc-day-number").text(h.getDate()); if (c) { bg(g, h) } }); p.each(function (b, c) { i = a(c); if (b < B) { i.show(); if (b == B - 1) { i.addClass("fc-last") } else { i.removeClass("fc-last") } } else { i.hide() } }) } function Q(c, d) { var e; var f = L + "-widget-header"; var g = L + "-widget-content"; var h, i; var j; e = "<table class='fc-border-separate' style='width:100%' cellspacing='0'>" + "<thead>" + "<tr>"; for (h = 0; h < C; h++) { e += "<th class='fc- " + f + "'/>" } e += "</tr>" + "</thead>" + "<tbody>"; for (h = 0; h < c; h++) { e += "<tr class='fc-week" + h + "'>"; for (i = 0; i < C; i++) { e += "<td class='fc- " + g + " fc-day" + (h * C + i) + "'>" + "<div>" + (d ? "<div class='fc-day-number'/>" : "") + "<div class='fc-day-content'>" + "<div style='position:relative'> </div>" + "</div>" + "</div>" + "</td>" } e += "</tr>" } e += "</tbody>" + "</table>"; j = a(e).appendTo(b); m = j.find("thead"); n = m.find("th"); o = j.find("tbody"); p = o.find("tr"); q = o.find("td"); r = q.filter(":first-child"); t = p.eq(0).find("div.fc-day-content div"); bf(m.add(m.find("tr"))); bf(p); p.eq(0).addClass("fc-first"); V(q); u = a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b) } function P() { G = f("isRTL"); if (G) { H = -1; I = C - 1 } else { H = 1; I = 0 } J = f("firstDay"); K = f("weekends") ? 0 : 1; L = f("theme") ? "ui" : "fc"; M = f("columnFormat") } function N(a, b, c, d) { B = b; C = c; P(); var e = !o; if (e) { Q(a, d) } else { h() } R(e) } var e = this; e.renderBasic = N; e.setHeight = S; e.setWidth = T; e.renderDayOverlay = X; e.defaultSelectionEnd = $; e.renderSelection = _; e.clearSelection = ba; e.reportDayClick = bb; e.dragStart = bc; e.dragStop = bd; e.defaultEventEnd = bh; e.getHoverListener = function () { return E }; e.colContentLeft = bi; e.colContentRight = bj; e.dayOfWeekCol = bp; e.dateCell = bk; e.cellDate = bl; e.cellIsAllDay = function () { return true }; e.allDayRow = bq; e.allDayBounds = br; e.getRowCnt = function () { return B }; e.getColCnt = function () { return C }; e.getColWidth = function () { return A }; e.getDaySegmentContainer = function () { return u }; bu.call(e, b, c, d); bx.call(e); bw.call(e); bo.call(e); var f = e.opt; var g = e.trigger; var h = e.clearEvents; var i = e.renderOverlay; var j = e.clearOverlays; var k = e.daySelectionMousedown; var l = c.formatDate; var m; var n; var o; var p; var q; var r; var t; var u; var x; var y; var A; var B, C; var D; var E; var F; var G, H, I; var J; var K; var L; var M; be(b.addClass("fc-grid")); D = new by(function (b, c) { var d, e, f; n.each(function (b, g) { d = a(g); e = d.offset().left; if (b) { f[1] = e } f = [e]; c[b] = f }); f[1] = e + d.outerWidth(); p.each(function (c, g) { if (c < B) { d = a(g); e = d.offset().top; if (c) { f[1] = e } f = [e]; b[c] = f } }); f[1] = e + d.outerHeight() }); E = new bz(D); F = new bA(function (a) { return t.eq(a) }) } function bm(a, b) { function g(a, b) { if (b) { s(a, b); if (!d("weekends")) { y(a, b < 0 ? -1 : 1) } } c.title = f(a, d("titleFormat")); c.start = c.visStart = w(a, true); c.end = c.visEnd = s(w(c.start), 1); e(1, 1, 1, false) } var c = this; c.render = g; bn.call(c, a, b, "basicDay"); var d = c.opt; var e = c.renderBasic; var f = b.formatDate } function bl(a, b) { function g(a, b) { if (b) { s(a, b * 7) } var g = s(w(a), -((a.getDay() - d("firstDay") + 7) % 7)); var h = s(w(g), 7); var i = w(g); var j = w(h); var k = d("weekends"); if (!k) { y(i); y(j, -1, true) } c.title = f(i, s(w(j), -1), d("titleFormat")); c.start = g; c.end = h; c.visStart = i; c.visEnd = j; e(1, 1, k ? 7 : 5, false) } var c = this; c.render = g; bn.call(c, a, b, "basicWeek"); var d = c.opt; var e = c.renderBasic; var f = b.formatDates } function bk(a, b) { function g(a, b) { if (b) { r(a, b); a.setDate(1) } var g = w(a, true); g.setDate(1); var h = r(w(g), 1); var i = w(g); var j = w(h); var k = d("firstDay"); var l = d("weekends") ? 0 : 1; if (l) { y(i); y(j, -1, true) } s(i, -((i.getDay() - Math.max(k, l) + 7) % 7)); s(j, (7 - j.getDay() + Math.max(k, l)) % 7); var m = Math.round((j - i) / (n * 7)); if (d("weekMode") == "fixed") { s(j, (6 - m) * 7); m = 6 } c.title = f(g, d("titleFormat")); c.start = g; c.end = h; c.visStart = i; c.visEnd = j; e(6, m, l ? 5 : 7, true) } var c = this; c.render = g; bn.call(c, a, b, "month"); var d = c.opt; var e = c.renderBasic; var f = b.formatDate } function bj() { for (var a = 0; a < arguments.length; a++) { if (arguments[a] !== b) { return arguments[a] } } } function bi(b, c, d) { if (a.isFunction(b)) { b = [b] } if (b) { var e; var f; for (e = 0; e < b.length; e++) { f = b[e].apply(c, d) || f } return f } } function bh(a, b) { var c = a.source || {}; var d = a.color; var e = c.color; var f = b("eventColor"); var g = a.backgroundColor || d || c.backgroundColor || e || b("eventBackgroundColor") || f; var h = a.borderColor || d || c.borderColor || e || b("eventBorderColor") || f; var i = a.textColor || c.textColor || b("eventTextColor"); var j = []; if (g) { j.push("background-color:" + g) } if (h) { j.push("border-color:" + h) } if (i) { j.push("color:" + i) } return j.join(";") } function bg(a, b) { a.each(function (a, c) { c.className = c.className.replace(/^fc-\w*/, "fc-" + m[b.getDay()]) }) } function bf(a) { a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last") } function be(a) { a.attr("unselectable", "on").css("MozUserSelect", "none").bind("selectstart.ui", function () { return false }) } function bd(a) { return a.id + "/" + a.className + "/" + a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig, "") } function bc(a) { return a.replace(/&/g, "&").replace(/</g, "<").replace(/>/g, ">").replace(/'/g, "&#039;").replace(/"/g, "").replace(/\n/g, "<br />") } function bb(a, c) { if (a[c] !== b) { return a[c] } var d = c.split(/(?=[A-Z])/), e = d.length - 1, f; for (; e >= 0; e--) { f = a[d[e].toLowerCase()]; if (f !== b) { return f } } return a[""] } function ba(a) { return (a < 10 ? "0" : "") + a } function _(a) { return Math.max.apply(Math, a) } function $(a, b) { return a - b } function Z() { } function Y(a, b) { b = typeof b == "number" ? b + "px" : b; a.each(function (a, c) { c.style.cssText += ";min-height:" + b + ";_height:" + b }) } function X(b) { return (parseFloat(a.curCSS(b[0], "borderTopWidth", true)) || 0) + (parseFloat(a.curCSS(b[0], "borderBottomWidth", true)) || 0) } function W(b) { return (parseFloat(a.curCSS(b[0], "marginTop", true)) || 0) + (parseFloat(a.curCSS(b[0], "marginBottom", true)) || 0) } function V(b) { return (parseFloat(a.curCSS(b[0], "paddingTop", true)) || 0) + (parseFloat(a.curCSS(b[0], "paddingBottom", true)) || 0) } function U(a, b) { return V(a) + X(a) + (b ? W(a) : 0) } function T(b) { return (parseFloat(a.curCSS(b[0], "borderLeftWidth", true)) || 0) + (parseFloat(a.curCSS(b[0], "borderRightWidth", true)) || 0) } function S(b) { return (parseFloat(a.curCSS(b[0], "marginLeft", true)) || 0) + (parseFloat(a.curCSS(b[0], "marginRight", true)) || 0) } function R(b) { return (parseFloat(a.curCSS(b[0], "paddingLeft", true)) || 0) + (parseFloat(a.curCSS(b[0], "paddingRight", true)) || 0) } function Q(a, b) { return R(a) + T(a) + (b ? S(a) : 0) } function P(b, c, d) { for (var e = 0, f; e < b.length; e++) { f = a(b[e]); f.height(Math.max(0, c - U(f, d))) } } function O(b, c, d) { for (var e = 0, f; e < b.length; e++) { f = a(b[e]); f.width(Math.max(0, c - Q(f, d))) } } function N(c, d, e) { c.unbind("mouseover").mouseover(function (c) { var f = c.target, g, h, i; while (f != this) { g = f; f = f.parentNode } if ((h = g._fci) !== b) { g._fci = b; i = d[h]; e(i.event, i.element, i); a(c.target).trigger(c) } c.stopPropagation() }) } function M(a) { var b = [], c, d = a.length, e, f, g, h; for (c = 0; c < d; c++) { e = a[c]; f = 0; while (true) { g = false; if (b[f]) { for (h = 0; h < b[f].length; h++) { if (K(b[f][h], e)) { g = true; break } } } if (g) { f++ } else { break } } if (b[f]) { b[f].push(e) } else { b[f] = [e] } } return b } function L(a, b, c, d) { var e = [], f, g = a.length, h, i, j, k, l, m, n; for (f = 0; f < g; f++) { h = a[f]; i = h.start; j = b[f]; if (j > c && i < d) { if (i < c) { k = w(c); m = false } else { k = i; m = true } if (j > d) { l = w(d); n = false } else { l = j; n = true } e.push({ event: h, start: k, end: l, isStart: m, isEnd: n, msLength: l - k }) } } return e.sort(J) } function K(a, b) { return a.end > b.start && a.start < b.end } function J(a, b) { return (b.msLength - a.msLength) * 100 + (a.event.start - b.event.start) } function I(a, b) { a = w(a); return b || a.getHours() || a.getMinutes() ? s(a, 1) : v(a) } function H(a) { if (a.end) { return I(a.end, a.allDay) } else { return s(w(a.start), 1) } } function F(a, b, d, e) { e = e || c; var f = a, g = b, h, i = d.length, j, k, l, m = ""; for (h = 0; h < i; h++) { j = d.charAt(h); if (j == "'") { for (k = h + 1; k < i; k++) { if (d.charAt(k) == "'") { if (f) { if (k == h + 1) { m += "'" } else { m += d.substring(h + 1, k) } h = k } break } } } else if (j == "(") { for (k = h + 1; k < i; k++) { if (d.charAt(k) == ")") { var n = E(f, d.substring(h + 1, k), e); if (parseInt(n.replace(/\D/, ""), 10)) { m += n } h = k; break } } } else if (j == "[") { for (k = h + 1; k < i; k++) { if (d.charAt(k) == "]") { var o = d.substring(h + 1, k); var n = E(f, o, e); if (n != E(g, o, e)) { m += n } h = k; break } } } else if (j == "{") { f = b; g = a } else if (j == "}") { f = a; g = b } else { for (k = i; k > h; k--) { if (l = G[d.substring(h, k)]) { if (f) { m += l(f, e) } h = k - 1; break } } if (k == h) { if (f) { m += j } } } } return m } function E(a, b, c) { return F(a, null, b, c) } function D(a) { if (typeof a == "number") { return a * 60 } if (typeof a == "object") { return a.getHours() * 60 + a.getMinutes() } var b = a.match(/(\d+)(?::(\d+))?\s*(\w+)?/); if (b) { var c = parseInt(b[1], 10); if (b[3]) { c %= 12; if (b[3].toLowerCase().charAt(0) == "p") { c += 12 } } return c * 60 + (b[2] ? parseInt(b[2], 10) : 0) } } function C(a, b) { var c = a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/); if (!c) { return null } var d = new Date(c[1], 0, 1); if (b || !c[13]) { var e = new Date(c[1], 0, 1, 9, 0); if (c[3]) { d.setMonth(c[3] - 1); e.setMonth(c[3] - 1) } if (c[5]) { d.setDate(c[5]); e.setDate(c[5]) } t(d, e); if (c[7]) { d.setHours(c[7]) } if (c[8]) { d.setMinutes(c[8]) } if (c[10]) { d.setSeconds(c[10]) } if (c[12]) { d.setMilliseconds(Number("0." + c[12]) * 1e3) } t(d, e) } else { d.setUTCFullYear(c[1], c[3] ? c[3] - 1 : 0, c[5] || 1); d.setUTCHours(c[7] || 0, c[8] || 0, c[10] || 0, c[12] ? Number("0." + c[12]) * 1e3 : 0); if (c[14]) { var f = Number(c[16]) * 60 + (c[18] ? Number(c[18]) : 0); f *= c[15] == "-" ? 1 : -1; d = new Date(+d + f * 60 * 1e3) } } return d } function B(a, c) { if (typeof a == "object") { return a } if (typeof a == "number") { return new Date(a * 1e3) } if (typeof a == "string") { if (a.match(/^\d+(\.\d+)?$/)) { return new Date(parseFloat(a) * 1e3) } if (c === b) { c = true } return C(a, c) || (a ? new Date(a) : null) } return null } function A(a, c, d, e) { if (c !== b && c != a.getFullYear()) { a.setDate(1); a.setMonth(0); a.setFullYear(c) } if (d !== b && d != a.getMonth()) { a.setDate(1); a.setMonth(d) } if (e !== b) { a.setDate(e) } } function z(a, b) { return Math.round((w(a, true) - w(b, true)) / n) } function y(a, b, c) { b = b || 1; while (!a.getDay() || c && a.getDay() == 1 || !c && a.getDay() == 6) { s(a, b) } return a } function x() { var a = 0, b; do { b = new Date(1970, a++, 1) } while (b.getHours()); return b } function w(a, b) { if (b) { return v(new Date(+a)) } return new Date(+a) } function v(a) { a.setHours(0); a.setMinutes(0); a.setSeconds(0); a.setMilliseconds(0); return a } function u(a, b) { a.setMinutes(a.getMinutes() + b); return a } function t(a, b) { if (+a) { while (a.getDate() != b.getDate()) { a.setTime(+a + (a < b ? 1 : -1) * o) } } } function s(a, b, c) { if (+a) { var d = a.getDate() + b, e = w(a); e.setHours(9); e.setDate(d); a.setDate(d); if (!c) { v(a) } t(a, e) } return a } function r(a, b, c) { if (+a) { var d = a.getMonth() + b, e = w(a); e.setDate(1); e.setMonth(d); a.setMonth(d); if (!c) { v(a) } while (a.getMonth() != e.getMonth()) { a.setDate(a.getDate() + (a < e ? 1 : -1)) } } return a } function q(a, b, c) { a.setFullYear(a.getFullYear() + b); if (!c) { v(a) } return a } function l(c, d) { function M(a) { return (typeof a == "object" ? a.events || a.url : "") || a } function L(a, b) { return a && b && M(a) == M(b) } function K(a) { if (a.className) { if (typeof a.className == "string") { a.className = a.className.split(/\s+/) } } else { a.className = [] } var b = e.sourceNormalizers; for (var c = 0; c < b.length; c++) { b[c](a) } } function J(a) { var d = a.source || {}; var e = bj(d.ignoreTimezone, c.ignoreTimezone); a._id = a._id || (a.id === b ? "_fc" + k++ : a.id + ""); if (a.date) { if (!a.start) { a.start = a.date } delete a.date } a._start = w(a.start = B(a.start, e)); a.end = B(a.end, e); if (a.end && a.end <= a.start) { a.end = null } a._end = a.end ? w(a.end) : null; if (a.allDay === b) { a.allDay = bj(d.allDayDefault, c.allDayDefault) } if (a.className) { if (typeof a.className == "string") { a.className = a.className.split(/\s+/) } } else { a.className = [] } } function I() { if (! --r) { g("loading", null, false) } } function H() { if (!(r++)) { g("loading", null, true) } } function G(b) { if (a.isFunction(b)) { return a.grep(s, b) } else if (b) { b += ""; return a.grep(s, function (a) { return a._id == b }) } return s } function F(b) { if (!b) { s = []; for (var c = 0; c < m.length; c++) { if (a.isArray(m[c].events)) { m[c].events = [] } } } else { if (!a.isFunction(b)) { var d = b + ""; b = function (a) { return a._id == d } } s = a.grep(s, b, true); for (var c = 0; c < m.length; c++) { if (a.isArray(m[c].events)) { m[c].events = a.grep(m[c].events, b, true) } } } i(s) } function E(a, b) { J(a); if (!a.source) { if (b) { l.events.push(a); a.source = l } s.push(a) } i(s) } function D(a) { var b, c = s.length, d, e = h().defaultEventEnd, f = a.start - a._start, g = a.end ? a.end - (a._end || e(a)) : 0; for (b = 0; b < c; b++) { d = s[b]; if (d._id == a._id && d != a) { d.start = new Date(+d.start + f); if (a.end) { if (d.end) { d.end = new Date(+d.end + g) } else { d.end = new Date(+e(d) + g) } } else { d.end = null } d.title = a.title; d.url = a.url; d.allDay = a.allDay; d.className = a.className; d.editable = a.editable; d.color = a.color; d.backgroudColor = a.backgroudColor; d.borderColor = a.borderColor; d.textColor = a.textColor; J(d) } } J(a); i(s) } function C(b) { m = a.grep(m, function (a) { return !L(a, b) }); s = a.grep(s, function (a) { return !L(a.source, b) }); i(s) } function A(b) { if (a.isFunction(b) || a.isArray(b)) { b = { events: b} } else if (typeof b == "string") { b = { url: b} } if (typeof b == "object") { K(b); m.push(b); return b } } function z(a) { a = A(a); if (a) { q++; x(a, p) } } function y(b, d) { var f; var g = e.sourceFetchers; var h; for (f = 0; f < g.length; f++) { h = g[f](b, n, o, d); if (h === true) { return } else if (typeof h == "object") { y(h, d); return } } var i = b.events; if (i) { if (a.isFunction(i)) { H(); i(w(n), w(o), function (a) { d(a); I() }) } else if (a.isArray(i)) { d(i) } else { d() } } else { var k = b.url; if (k) { var l = b.success; var m = b.error; var p = b.complete; var q = a.extend({}, b.data || {}); var r = bj(b.startParam, c.startParam); var s = bj(b.endParam, c.endParam); if (r) { q[r] = Math.round(+n / 1e3) } if (s) { q[s] = Math.round(+o / 1e3) } H(); a.ajax(a.extend({}, j, b, { data: q, success: function (b) { b = b || []; var c = bi(l, this, arguments); if (a.isArray(c)) { b = c } d(b) }, error: function () { bi(m, this, arguments); d() }, complete: function () { bi(p, this, arguments); I() } })) } else { d() } } } function x(a, b) { y(a, function (c) { if (b == p) { if (c) { for (var d = 0; d < c.length; d++) { c[d].source = a; J(c[d]) } s = s.concat(c) } q--; if (!q) { i(s) } } }) } function v(a, b) { n = a; o = b; s = []; var c = ++p; var d = m.length; q = d; for (var e = 0; e < d; e++) { x(m[e], c) } } function u(a, b) { return !n || a < n || b > o } var f = this; f.isFetchNeeded = u; f.fetchEvents = v; f.addEventSource = z; f.removeEventSource = C; f.updateEvent = D; f.renderEvent = E; f.removeEvents = F; f.clientEvents = G; f.normalizeEvent = J; var g = f.trigger; var h = f.getView; var i = f.reportEvents; var l = { events: [] }; var m = [l]; var n, o; var p = 0; var q = 0; var r = 0; var s = []; for (var t = 0; t < d.length; t++) { A(d[t]) } } function i(b, c) { function o(a) { e.find("span.fc-button-" + a).removeClass(g + "-state-disabled") } function n(a) { e.find("span.fc-button-" + a).addClass(g + "-state-disabled") } function m(a) { e.find("span.fc-button-" + a).removeClass(g + "-state-active") } function l(a) { e.find("span.fc-button-" + a).addClass(g + "-state-active") } function k(a) { e.find("h2").html(a) } function j(d) { var e = a("<td class='fc-header-" + d + "'/>"); var h = c.header[d]; if (h) { a.each(h.split(" "), function (d) { if (d > 0) { e.append("<span class='fc-header-space'/>") } var h; a.each(this.split(","), function (d, i) { if (i == "title") { e.append("<span class='fc-header-title'><h2> </h2></span>"); if (h) { h.addClass(g + "-corner-right") } h = null } else { var j; if (b[i]) { j = b[i] } else if (f[i]) { j = function () { m.removeClass(g + "-state-hover"); b.changeView(i) } } if (j) { var k = c.theme ? bb(c.buttonIcons, i) : null; var l = bb(c.buttonText, i); var m = a("<span class='fc-button fc-button-" + i + " " + g + "-state-default'>" + "<span class='fc-button-inner'>" + "<span class='fc-button-content'>" + (k ? "<span class='fc-icon-wrap'>" + "<span class='ui-icon ui-icon-" + k + "'/>" + "</span>" : l) + "</span>" + "<span class='fc-button-effect'><span></span></span>" + "</span>" + "</span>"); if (m) { m.click(function () { if (!m.hasClass(g + "-state-disabled")) { j() } }).mousedown(function () { m.not("." + g + "-state-active").not("." + g + "-state-disabled").addClass(g + "-state-down") }).mouseup(function () { m.removeClass(g + "-state-down") }).hover(function () { m.not("." + g + "-state-active").not("." + g + "-state-disabled").addClass(g + "-state-hover") }, function () { m.removeClass(g + "-state-hover").removeClass(g + "-state-down") }).appendTo(e); if (!h) { m.addClass(g + "-corner-left") } h = m } } } }); if (h) { h.addClass(g + "-corner-right") } }) } return e } function i() { e.remove() } function h() { g = c.theme ? "ui" : "fc"; var b = c.header; if (b) { e = a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(j("left")).append(j("center")).append(j("right"))); return e } } var d = this; d.render = h; d.destroy = i; d.updateTitle = k; d.activateButton = l; d.deactivateButton = m; d.disableButton = n; d.enableButton = o; var e = a([]); var g } function h(c, d, e) { function bn(a, b) { if (d[a]) { return d[a].apply(b || k, Array.prototype.slice.call(arguments, 2)) } } function bm(a, c) { if (c === b) { return d[a] } if (a == "height" || a == "contentHeight" || a == "aspectRatio") { d[a] = c; P() } } function bl() { return t } function bk() { return w(C) } function bj(a, c, d) { if (a !== b) { q(C, a) } if (c !== b) { r(C, c) } if (d !== b) { s(C, d) } O() } function bi(a, b, c) { if (a instanceof Date) { C = w(a) } else { A(C, a, b, c) } O() } function bh() { C = new Date; O() } function bg() { q(C, 1); O() } function bf() { q(C, -1); O() } function be() { O(1) } function bd() { O(-1) } function bc() { if (t) { t.unselect() } } function bb(a, c, d) { t.select(a, c, d === b ? true : d) } function ba() { a.each(u, function (a, b) { b.eventsDirty = true }) } function _(a) { ba(); if (L()) { t.clearEvents(); t.renderEvents(D, a); t.eventsDirty = false } } function $(a) { _(a) } function X(a) { D = a; _() } function W() { j(t.visStart, t.visEnd) } function V(a) { if (!d.lazyFetching || h(t.visStart, t.visEnd)) { W() } else if (a) { _() } } function T() { if (!B) { if (t.start) { var a = ++z; setTimeout(function () { if (a == z && !B && L()) { if (v != (v = c.outerWidth())) { B++; P(); t.trigger("windowResize", k); B-- } } }, 200) } else { J() } } } function S(a) { B++; t.setHeight(x, a); if (y) { y.css("position", "relative"); y = null } t.setWidth(o.width(), a); B-- } function R() { if (d.contentHeight) { x = d.contentHeight } else if (d.height) { x = d.height - (n ? n.height() : 0) - U(o) } else { x = Math.round(o.width() / Math.max(d.aspectRatio, .5)) } } function Q() { a.each(u, function (a, b) { b.sizeDirty = true }) } function P() { Q(); if (L()) { R(); S(); bc(); t.clearEvents(); t.renderEvents(D); t.sizeDirty = false } } function O(a) { if (L()) { B++; bc(); if (x === b) { R() } var d = false; if (!t.start || a || C < t.start || C >= t.end) { t.render(C, a || 0); S(true); d = true } else if (t.sizeDirty) { t.clearEvents(); S(); d = true } else if (t.eventsDirty) { t.clearEvents(); d = true } t.sizeDirty = false; t.eventsDirty = false; V(d); v = c.outerWidth(); m.updateTitle(t.title); var e = new Date; if (e >= t.start && e < t.end) { m.disableButton("today") } else { m.enableButton("today") } B--; t.trigger("viewDisplay", k) } } function N(b) { if (!t || b != t.name) { B++; bc(); var c = t; var d; if (c) { (c.beforeHide || Z)(); Y(o, o.height()); c.element.hide() } else { Y(o, 1) } o.css("overflow", "hidden"); t = u[b]; if (t) { t.element.show() } else { t = u[b] = new f[b](d = y = a("<div class='fc-view fc-view-" + b + "' style='position:absolute'/>").appendTo(o), g) } if (c) { m.deactivateButton(c.name) } m.activateButton(b); O(); o.css("overflow", ""); if (c) { Y(o, 1) } if (!d) { (t.afterShow || Z)() } B-- } } function M() { return a("body")[0].offsetWidth !== 0 } function L() { return k.offsetWidth !== 0 } function K() { a(window).unbind("resize", T); m.destroy(); o.remove(); c.removeClass("fc fc-rtl ui-widget") } function J() { setTimeout(function () { if (!t.start && M()) { O() } }, 0) } function I() { p = d.theme ? "ui" : "fc"; c.addClass("fc"); if (d.isRTL) { c.addClass("fc-rtl") } if (d.theme) { c.addClass("ui-widget") } o = a("<div class='fc-content' style='position:relative'/>").prependTo(c); m = new i(g, d); n = m.render(); if (n) { c.prepend(n) } N(d.defaultView); a(window).resize(T); if (!M()) { J() } } function H(a) { if (!o) { I() } else { R(); Q(); ba(); O(a) } } var g = this; g.options = d; g.render = H; g.destroy = K; g.refetchEvents = W; g.reportEvents = X; g.reportEventChange = $; g.rerenderEvents = _; g.changeView = N; g.select = bb; g.unselect = bc; g.prev = bd; g.next = be; g.prevYear = bf; g.nextYear = bg; g.today = bh; g.gotoDate = bi; g.incrementDate = bj; g.formatDate = function (a, b) { return E(a, b, d) }; g.formatDates = function (a, b, c) { return F(a, b, c, d) }; g.getDate = bk; g.getView = bl; g.option = bm; g.trigger = bn; l.call(g, d, e); var h = g.isFetchNeeded; var j = g.fetchEvents; var k = c[0]; var m; var n; var o; var p; var t; var u = {}; var v; var x; var y; var z = 0; var B = 0; var C = new Date; var D = []; var G; A(C, d.year, d.month, d.date); if (d.droppable) { a(document).bind("dragstart", function (b, c) { var e = b.target; var f = a(e); if (!f.parents(".fc").length) { var g = d.dropAccept; if (a.isFunction(g) ? g.call(e, f) : f.is(g)) { G = e; t.dragStart(G, b, c) } } }).bind("dragstop", function (a, b) { if (G) { t.dragStop(G, a, b); G = null } }) } } function g(b) { a.extend(true, c, b) } var c = { defaultView: "month", aspectRatio: 1.35, header: { left: "title", center: "", right: "today prev,next" }, weekends: true, allDayDefault: true, ignoreTimezone: true, lazyFetching: true, startParam: "start", endParam: "end", titleFormat: { month: "MMMM yyyy", week: "MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}", day: "dddd, MMM d, yyyy" }, columnFormat: { month: "ddd", week: "ddd M/d", day: "dddd M/d" }, timeFormat: { "": "h(:mm)t" }, isRTL: false, firstDay: 0, monthNames: ["Janeiro", "Fevereiro", "Maro", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"], monthNamesShort: ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"], dayNames: ["Domingo", "Segunda", "Tera", "Quarta", "Quinta", "Sexta", "Sbado"], dayNamesShort: ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sab"], buttonText: { prev: " &#9668; ", next: " &#9658; ", prevYear: " << ", nextYear: " >> ", today: "hoje", month: "ms", week: "semana", day: "dia" }, theme: false, buttonIcons: { prev: "circle-triangle-w", next: "circle-triangle-e" }, unselectAuto: true, dropAccept: "*" }; var d = { header: { left: "next,prev today", center: "", right: "title" }, buttonText: { prev: " &#9658; ", next: " &#9668; ", prevYear: " >> ", nextYear: " << " }, buttonIcons: { prev: "circle-triangle-e", next: "circle-triangle-w"} }; var e = a.fullCalendar = { version: "1.5.2" }; var f = e.views = {}; a.fn.fullCalendar = function (e) { if (typeof e == "string") { var f = Array.prototype.slice.call(arguments, 1); var g; this.each(function () { var c = a.data(this, "fullCalendar"); if (c && a.isFunction(c[e])) { var d = c[e].apply(c, f); if (g === b) { g = d } if (e == "destroy") { a.removeData(this, "fullCalendar") } } }); if (g !== b) { return g } return this } var i = e.eventSources || []; delete e.eventSources; if (e.events) { i.push(e.events); delete e.events } e = a.extend(true, {}, c, e.isRTL || e.isRTL === b && c.isRTL ? d : {}, e); this.each(function (b, c) { var d = a(c); var f = new h(d, e, i); d.data("fullCalendar", f); f.render() }); return this }; e.sourceNormalizers = []; e.sourceFetchers = []; var j = { dataType: "json", cache: false }; var k = 1; e.addDays = s; e.cloneDate = w; e.parseDate = B; e.parseISO8601 = C; e.parseTime = D; e.formatDate = E; e.formatDates = F; var m = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], n = 864e5, o = 36e5, p = 6e4; var G = { s: function (a) { return a.getSeconds() }, ss: function (a) { return ba(a.getSeconds()) }, m: function (a) { return a.getMinutes() }, mm: function (a) { return ba(a.getMinutes()) }, h: function (a) { return a.getHours() % 12 || 12 }, hh: function (a) { return ba(a.getHours() % 12 || 12) }, H: function (a) { return a.getHours() }, HH: function (a) { return ba(a.getHours()) }, d: function (a) { return a.getDate() }, dd: function (a) { return ba(a.getDate()) }, ddd: function (a, b) { return b.dayNamesShort[a.getDay()] }, dddd: function (a, b) { return b.dayNames[a.getDay()] }, M: function (a) { return a.getMonth() + 1 }, MM: function (a) { return ba(a.getMonth() + 1) }, MMM: function (a, b) { return b.monthNamesShort[a.getMonth()] }, MMMM: function (a, b) { return b.monthNames[a.getMonth()] }, yy: function (a) { return (a.getFullYear() + "").substring(2) }, yyyy: function (a) { return a.getFullYear() }, t: function (a) { return a.getHours() < 12 ? "a" : "p" }, tt: function (a) { return a.getHours() < 12 ? "am" : "pm" }, T: function (a) { return a.getHours() < 12 ? "A" : "P" }, TT: function (a) { return a.getHours() < 12 ? "AM" : "PM" }, u: function (a) { return E(a, "yyyy-MM-dd'T'HH:mm:ss'Z'") }, S: function (a) { var b = a.getDate(); if (b > 10 && b < 20) { return "th" } return ["st", "nd", "rd"][b % 10 - 1] || "th" } }; e.applyAll = bi; f.month = bk; f.basicWeek = bl; f.basicDay = bm; g({ weekMode: "fixed" }); f.agendaWeek = bp; f.agendaDay = bq; g({ allDaySlot: true, allDayText: "all-day", firstHour: 6, slotMinutes: 30, defaultEventMinutes: 120, axisFormat: "h(:mm)tt", timeFormat: { agenda: "h:mm{ - h:mm}" }, dragOpacity: { agenda: .5 }, minTime: 0, maxTime: 24 }) })(jQuery)
